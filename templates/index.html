<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/redmond/jquery-ui.min.css" integrity="sha512-e7RyjvIuobYKTFb/Gxh8kyJobBZI9HMDYaExXkxFl8m9x6E/+z46nx/38qVFL302i5yBXcSn1CpcELb9UV1hRA==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.structure.min.css" integrity="sha256-rxais37anKUnpL5QzSYte+JnIsmkGmLG+ZhKSkZkwVM=" crossorigin="anonymous" />


<script
  src="https://code.jquery.com/jquery-3.5.0.min.js"
  integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
  crossorigin="anonymous">
  </script>

<script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
  crossorigin="anonymous">
</script>

<style>

</style>


{% include 'header.html' %}
<nav class="navbar" style="background-color: rgb(64,89,195);" >
	<div style="background-color: rgb(64,89,195);" class="container-fluid">
	  <span class="task navbar-brand" style="color: white; font-size: 20px; margin: 0px auto;">All Tasks</span>
	</div>
  </nav>
<div class="center-column">
	<form method="POST" action="/">
		{% csrf_token %}
		{{form.title}}
		{{form.due}}
		<input class="btn btn-primary" type="submit" name="Create Task">
	</form>

	<div class="todo-list">
	{% for task in tasks %}
		<div class="item-row">
			<a class="btn btn-sm btn-info" href="{% url 'update' task.id %}">Update</a>
			<a class="btn btn-sm btn-danger" href="{% url 'delete' task.id %}">Delete</a>
			{% if task.complete == True %}
			<strike>{{task}}</strike>
			{% else %}
			<span>{{task}}</span>
			<span class="timer"><b>Due: </b>{{task.due|timeuntil}}</span>
			{% endif %}
		</div>
	{% endfor %}
	</div>
</div>
{% include  'footer.html' %}
<script>
    $(document).ready(function(){
      var date_input=$('input[name="due"]'); 
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        dateFormat: 'yy-mm-dd',
      };
      date_input.datepicker(options);
    })
</script>